
<!-- declare variables -->
{%-  -%} 
{% assign gvLIST_TOPIC = "" | split: ','%}


{% for lFILE in site[page.collection] %}
{% assign lFILE_DEPTH  = lFILE.path | split: '/' | size | minus: 2 %}
{% assign lFILE_FOLDER = lFILE.path | split: '/' | slice: 1, 1 | first | downcase | strip %}
{% assign lTOPIC_NAME  = lFILE.path | split: '/' | slice: 2, 1 | first | downcase | strip %}
{% assign lSTOPIC_TYPE = lFILE.path | split: '/' | slice: 3, 1 | first | downcase | strip %}
{% assign lFILE_EXPECTED = lTOPIC_NAME | append: '.md' %}
{% unless lFILE.name == 'index.md' and lFILE_DEPTH == 0  %} 
{% if  lFILE_DEPTH == 2  or lSTOPIC_TYPE == 'whatis' and lFILE.name == lFILE_EXPECTED %}
  <tr>
    <td translate='no'><a href='{{ lFILE.url }}'>{{lTOPIC_NAME}}</a></td>
    <td translate='no'>{{ lFILE.mx.tag }}</td>
    <td>{{ lFILE.mx.description }}</td>
    {%- comment -%} <td><li>depth = {{lFILE_DEPTH}} | title = {{ lFILE.title }} | type = {{lSTOPIC_TYPE}} </li> <li>url = {{ lFILE.url }}</li><li>path = {{ lFILE.path }}</li></td> {%- endcomment -%}
  </tr>
  {% endif %}
  {% endunless %}
  {% endfor %}
  </tbody>


<!-- define array of topic for a category -->
{% assign lCATEGORY = projects %} 
{% for lCATEGORY in site.collections %}
{% unless lCATEGORY.label == "posts" %}
{% assign lLIST_CATEGORY = lLIST_CATEGORY | push: lCATEGORY.label %}
{% endunless %}
{% endfor %}
